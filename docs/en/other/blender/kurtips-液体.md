# 液态水的快速模拟:

献祭初始立方体()

新建一个立方体,在上方菜单下面一行找到物体->快速效果->快速液体

场景栏里会多出一个液体域的东西,不知道为什么好像看不到边框,会后再说吧应该不是个问题(不是那个小立方体,外面还有一层,缩放拖一下就能看到

这个时候在物理属性里已经能看到加了一个液体属性

模拟液体需要:
- 发射源(流)
- 域: 在哪个空间里去模拟
- 障碍物: 如果需要做碰撞的话

所以首先新建一个立方体当发射源,然后再做一个当域(这个需要在视图显示里勾选线框模式)

域不需要太大,不然计算量会很多,但是要包裹住发射源

给发射源的物理属性加一个流体属性,然后发射域也一样,只是类型改成域,同时需要设置液体类型,然后和动画效果一样涉疫一下帧数和存储路径,渲染类型改成全部,然后烘焙发现没有效果

把发射源设置类型流,液体,然后在烘焙就可以了(注意把缓存里的类型改成全部,不然没有全部烘焙的按键)

这个时候就已经可以实现液体效果了,但是无法和物体进行碰撞

把要碰撞的物体物理属性加流体,效果器,由于默认就是碰撞所以就直接作为障碍物了,注意这个时候要重新烘焙

建议把头的采样子步长改成3,表面厚度改成0.05,这样不容易穿模

子步长用来控制每一帧的计算精度,值越高精度越高,值越低越容易穿模,步长为1表示在blender每帧模拟一次,来不及检测高速粒子的碰撞

表面厚度是用来给碰撞体出一点厚度,避免液体粒子刚好卡在表面附近导致穿透,默认通常是0.01或更高,小于0.01
仍以穿模,表面厚度为0表示碰撞体没有任何厚度,粒子很容易传过去,碰撞体必须是封闭提及,否则液体会从开口处漏出来

同时流体精度也很重要,至少目前看精度64全在穿模

gpt说如果有了效果器还是穿模可以去物理属性里把碰撞勾上,至少测试成功了

## 材质

玻璃BSDF -> 输出

水的折射率1.33所以IOR1.33,要cycles渲染