# kurtips:[【基础篇】1.3 认识界面_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV14u41147YH?spm_id_from=333.788.videopod.episodes&vd_source=f7139216eae1666b699e977cfab6c368&p=4)
## 基础篇
### 基础篇1.2 让手听话：
前排提示：没有鼠标的在edit->preference->emulate mouse 3 button, 然后alt = 鼠标中键

右上角：![rightcorner](../../../../../../assets/blender/kurtips-基础/rightcorner.png)
- 那个轴可以像unity一样旋转，
- 按住放大镜上下滑动可以缩放（触控板直接缩放），
- 按住手移动可以移动视角，
- 点摄影机进入摄影机视角（unity的camera视图）
- 点击网格进入正交视图，否则默认透视

物体上有一个圆点（游标）,和unity一样,选中物体加移动显示三个轴,然后可以移动,旋转,缩放(这几个甚至图标都一样)

- 删除可以按x,会弹出一个提示框,
- 新建可以shift+a,然后和unity一样选择对应的物体
- 移动快捷键是g，选中模型按g开始移动，随便点一下结束，同时按住x沿着x轴移动，yz同理
- 缩放快捷键是s，同理，选中按f开始缩放，随便点击停止
- 旋转快捷键是r，同样可以按xyz
- alt+s撤销缩放，alt+r撤销旋转，alt+g同理
- 选中物体点h隐藏物体 
- shift+d复制物体，ctrl+z万能撤销

长按左边的选中可以选择选中方式，例如框选，套索等

和unity一样，点击三个轴快速进入视角，小键盘：
- 1：正视图
- 3：右视图
- 7：顶视图
- 9：反转视图
- 2468:在对应的方向转15度
- 5：切换正交视图和透视视图
- 0：切换摄像机视图

![rightcorner](../../../../../../assets/blender/kurtips-基础/1.4.png)
### 1.3 认识界面：
基本workflow：建模->布光->材质->渲染

和unity一样，所有的窗口都可以替换,并且可以像unity一样自由布局,可以新建布局然后加号->向前重排序,之后把新的布局删掉

ctrl+空格快捷键可以最大化当前面板

游标:
- 游标在哪里,新建的物体就会在哪里,shift加右键,点击哪里游标就会出现在哪里,比如可以shift+s快捷移动到游标
- shift+c游标回到世界原点
- 派目录到选中项可以快速把游标移动到对应物体
- 可以作为一个轴心点使用,默认是绕着原点移动,可以选中物体之后在上方将旋转中心改为游标
原点:
- 所有物体都有的一个黄色的点,
- 开启选项的仅影响原点可以移动原点
- 移动原点之后要把右上角选项里的仅影响原点光雕,否则无法移动物体
- alt+g快速让原点带着物体回到世界中心
ctrl+g可以吸附网格,但感觉应该先按g开移动然后再ctrl加其他的

可以多选物体然后整体旋转,但是注意中心点,
- 默认是中点,
- 可以调成质心
- 自定义,
- 可以选各自原点,
- 活动元素,也就是最后选中的元素

坐标:(和unity一样,分local和global)
- 全局:
- 相对
- 在g状态下按两下x/y/z切换全局坐标和局部坐标


![rightcorner](../../../../../../assets/blender/kurtips-基础/1.3.png)

### 1.4: 案例:
载入参考图: 先调整到正视图,然后新建->图像->参考,然后把不透明度调低一点

每次新建物体的时候有一次机会去更改默认设置

可以在上方更改变换数值是相对于全局还是物体,

可以选中物体按斜杠让视图里只有这一个物体,再按斜杠恢复

 
在摄像机第三个按钮里可以更改输出路径,在摄像机图标里可以更改外边框透明度让外面不可见

blender有两个渲染器

| 渲染器    | pro      | con                 |
| ------ | -------- | ------------------- |
| eevee  | 快,相对不占资源 | 没有光线追踪,需要额外更多参数设置辅助 |
| cycles | 逼真,高级    | 慢.相对更耗资源            |

在照相机图标下可以修改渲染引擎

预览,左上角的四个球分别代表
- 渲染预览:最终效果预览,占用资源多
- 材质预览:可以预览材质的颜色和简单纹理,但不计算灯光追踪的细节,比渲染预览快
- 实体模式预览:不显示颜色和材质,建模的时候使用,快,不占用太多资源
- 线框模式:显示走线

正常来说模型会显得比较多边形,可以选中右键->平滑着色(shade smooth),然他看上去圆一些

灯光暂作了解,之后再说,主要就是设置一下灯光物体

材质:

选中要上材质的物体之后会出现一个材质选项,默认没有材质,需要新建一个材质

如果是点击眼镜把物体隐藏,那么仍然出现在渲染结果中,但是摄像机关闭不会渲染

## 建模篇:
### 点线面的选择和控制

通过tab进入编辑模式

在编辑模式下,123分别快捷选择点线面

或者按下shift同时选择左上角的点线面中的任意组合

选择方式可以通过w快速切换

ctrl+I 反选,shift可以多选,ctrl可以选择两个点之间的最短路径, 选中一个点然后l可以把所有相连的元素都选上

按l的时候需要把鼠标放到对应物体上

alt加双击是循环选择,比如在球体上按alt就会选择一圈点,鼠标位置和选中的点有关,在球体上,鼠标略偏纵向就会选总想的一圈,反之选横向的

ctrl+shift双击可以选择垂直的一圈线

或者可在左上角的选择里点随机选择,随机选一些点线面

点线面可以按照快捷键rgsx的方式旋转,移动,缩放,删除

删除的时候,所有相连的元素也会一并消失

但如果是融并边,会把剩下的元素连接起来

法线:区分正反面,可以在右上角的overlay设置里把面朝向打开,蓝正红反,选中shift+n可以翻面

在左上角的框加四个点的图标里可以显示法线,蓝色的断线就是法线

![rightcorner](../../../../../../assets/blender/kurtips-基础/2.1.png)

### 十大建模操作

### 挤出: e
挤出一个面:

选中面然后按e之后拖动到想要挤的位置

同时挤出面之后可以按s缩放面实现柱体效果

选中点挤出是线,线挤出是面

挤出并移动之后撤销只会撤销移动操作,实际上有两个面


如果在工具栏选择挤出流型(extrude manifolds)就不会出现重复边的问题,

可以选择按法线挤出，就会按照各自的法线挤

挤出各个面会让挤出的面相互独立，相当于连接处被复制了一份

挤出到光标就是挤出然后点到哪里挤到哪里
### 内挤:i

撤销不会造成多余的点

### 倒角: ctrl+b

ctrl+b之后鼠标滚轮可以增加细分面,拖动调整倒角范围,不强制要求鼠标滚轮,触控板也行

### 循环切割 ctrl+r

快捷键不知道为什么暂时不起作用,建议直接选择左边工具栏,在左上角调整环切数量,长按拖动改变环切位置

### 合并：m

选中要合并的元素，然后按m，会出菜单

### 断开：v
选择点，然后按v，把点和链接的面分开，

### 填充：f
选择边，按f会把内部填充，可以在上方选择选择栅格填充，填充成网格状

栅格填充只在边数是偶数边的时候可以用

### 切刀：k

划过的地方会被切开，然后enter确认，右键取消连续切割，esc全部取消


### 桥接：ctrl+e

桥接只能在一个物体上使用，可以全选然后ctrl+j

比如说桥接循环边就会把对应的边连到一起

### 分离：p

选中对应的元素然后按p把他从物体中分离开

![rightcorner](../../../../../../assets/blender/kurtips-基础/2.2.png)

## 修改器：

修改器的好处是用修改器调整模型之后操作可逆,但比如直接挤操作不可逆

比如说加了looptools，就可以快速圆环，桥接循环边等

比如说要建一个螺母，就先建一个六棱柱，内挤一个小六边形，细化然后右键（或者左边edit）选circle，就会尽可能的按照顶点画圆（如果没有细化，那么最好也就是不动，毕竟顶点就6个，细化之后多于6个）

可以通过上方的选择选择所有相似的边

再左侧小扳手里选中物体可以添加修改器

例如表面细分修改器：把网格的面分割成更小的面，让它看上去更平滑

倒角修改器:直接了当

布尔修改器:

比如说我要给一个立方体掏一个洞,我就可以把一个圆柱体插到立方体中间,然后布尔修改器的差值模式就会把圆柱体和立方体重合的地方扣掉

修改器的顺序会影响最终结果, ctrl应用,就会直接把物体变成应用修改器之后的样子

![rightcorner](../../../../../../assets/blender/kurtips-基础/2.3.png)

## 2.4 几个示例(建模马拉松)

### 蘑菇:

立方体 -> 表面细分修改器 -> 底面放大 -> 内切拉到底部 -> 内挤出一个小面 -> 在内挤出一个小面(不然边缘会很细) -> 把最小的面向上拉 -> 在最外面在内切,拉到合适的地方然后缩小 -> 调整 -> 蘑菇的伞

圆柱体 -> 表面细分修改器 -> 循环切割拉到合适的位置 -> 内挤一个小面 -> 调整 -> 蘑菇杆

弯曲蘑菇肝可以用简易形变修改器,选择bend,但注意弯折的参考点是物体的原点,需要提前移动到对的位置(树,草这类的原点一般放到底部),简易形变修改器可以叠加使用,比如弯折和锥化一起使用

要求: 
- 尽量不要在物体模式下缩放,尽量在编辑模式下缩放
- 如果在物体模式下缩放,记得应用这个缩放(会影响到修改器,选中物体然后ctrl+a选缩放,会把所有的缩放设置成物体的属性,所以缩放的xyz就都是1了)

组装:移动到合适的位置之后先选中子元素(蘑菇杆),在选中父元素(蘑菇伞),之后ctrl+j选物体这样就不再是两个分离的物体了 

同样的方式建一个凸起圆点,然后可以在上方的打开磁铁,在菜单里调整吸附到面加旋转,然后就会自动吸附到最近的面面了

### 树桩:
树桩本体: 圆柱体 -> 循环切割 -> 放大底面 

树枝: 在边上向内挤出 ->缩放加拉伸形成树枝 -> 顶部向内挤出 -> 拉伸

表面细分修改器

根部: 底部挤出拉伸形成根部(可以打开衰减边际,滑动滚轮选择拉伸影响的范围)

苔藓: 选择上面一圈 -> ctrl+d复制 -> p分离选中项 -> 略微放大 -> 调整边缘


如果要把一些物体拉平,例如拉平到平行于z轴,那么可以选中 sz0


### 花:

在编辑模式下有个圆的派图标是旋转工具,默认围绕游标旋转物体,在上方可以选择绕着x,y,z旋转,通过改步数可以选择复制多少个

单个花瓣 : 平面 -> 循环切割 -> 调整拉伸 -> 表面细分 

旋转 : 编辑模式 -> 旋转工具 -> 使用复制 -> 设置值

(由于 一开始存在一个花瓣,所以如果要做一个8个花瓣的花,设置步数为7,角度为315 = 360 * 7/8)

花朵弧度: 选择内圈的点 -> 按g调整衰减半径 -> 拉伸调整 -> 加实体化修改器增加厚度(表面细分应该在实体化上面,这样实体化的边也会被细分) -> 退出编辑模式,选中物体邮件设置几何中心 -> alt+g(如果有拖动的话)

### 空心树干:

树干本体: 圆柱 -> 两头挤出一个小一些的圆 -> 删掉小面 -> 桥接两边 

树枝: 环切 -> 调整位置 -> 倒角设置出两边的环 -> 挤出一个面 -> looptools变成圆形 -> 挤出 -> 缩放调整 -> 其余同理

苔藓: 选中一部分树干(可用ctrl+小键盘+号向外选择一圈) -> shift+d复制并移动(点一下) -> 撤销移动 -> 加实体化修改器(实体化修改器有方向,这里要设置成负数) -> 拖拽点调整 -> 在苔藓上加缩裹修改器,吸管选树干本体 -> 继续调整(就算有缩裹修改器,拉的太过离谱也是会穿模的) -> 表面细分 -> 平滑着色

如果要加缩裹修改器细分必须要够

### 龟背竹：
新建一个参考图片，然后可以在Scene Collection里旁边的漏斗把箭头勾选上,之后把参考图片边上的箭头点消失,防止误选到参考图片(勾选掉可选中)


在两点之间桥接一条线是按 F 。

把两个点合并成一个点是按 M 。

在两条连续边缘之间建立面（桥接两个连续边缘）是按 Ctrl+E，然后选择Bridge Edge Loops

由于图片不规则,使用手搓,不断的基础边和点,调整形状使其大致符合

切割完之后可以用空格退出切割状态,切割完只是增加顶点,分离按v

之后挤出一个叶柄，加上实体化以及表面细分修改器(这里记得要应用实体化修改器不然他就只是个面)

叶柄可以用挤出->移动->缩放->环切的老套路调整,

让叶片弯曲可以用简易形变修改器,多个方向弯曲就多加几个修改器,不过记住修改器的顺序会影响模型形状

然后就可以复制几份弯曲成不同样子组成一个小树枝了

![rightcorner](../../../../../../assets/blender/kurtips-基础/2.4.png)

## 2.5 阵列修改器和晶格形变

首先准备一些叶子: 面 -> 环切 -> 调整 -> 表面细分+实体化 -> 调整 -> 挤出叶柄 -> 调整

把叶子用阵列次修改器复制之后,可以用一个晶格把要调整的那部分叶子框中,然后选中叶子再选晶格 ctrl+p晶格形变绑定,之后调整晶格就可以调整整个叶子阵列的形变了,记得晶格要加细分(在菜单最下面的晶格,图标是个坐标系的样子里可以调整分辨率uvw)不然不好控制,但细分加的多也不好控制,最后是一个棕榈树叶或者羽毛的样子

在叶子上可以加阵列修改器,相对偏移指的是按比例偏移,恒定偏移指的是按照固定量偏移

如果是物体偏移,可以在叶子根部新建一个空物体,然后在物体偏移的地方用吸管选中空物体,移动空物体则整个阵列发生移动,可以用这个特性从叶子做树

之后如果要移动一整个物体,可以用一个空物体做目标物体的父级,然后移动空物体

## 2.6 曲线建模/父子级关系/蒙皮修改器

### 曲线
#### 贝瑟尔曲线:
每个店都有一个操作杆,在编辑模式下e挤出,选中两点f或者alt+c闭合,选中两个点x删除段数断开

#### 圆环:
闭合的贝瑟尔曲线

### nurbs曲线
通过点控制曲线走向,同样可以e挤出不断弯折,f或者alt+c闭合

除了正常的xyz以外,transforms属性有一个w控制线的曲率

#### nurbs圆环:
闭合的nurbs曲线

### 曲线建模
新建一个贝瑟尔曲线,随便画一画,在修改器下面有个绿色带两个空心圆的图标,可以在这个里的几何属性里找到一个深度,深度调大可以形成一个管子,按下面的封顶封口

在编辑模式下选中点alt+s缩放可以调整部分管子粗细,像是尾巴或者虚空签名

nurbs曲线一样

也可以在新建一个圆环,弯折成喜欢的样子然后再几何数据最下面选物体里把这个物体输入到锥化物体一栏,就会按照物体的形状去进行倒角 (头发丝的制作过程),(注:物体必须是曲线,网格不行)

也可以在轮廓里话自己想要的形状,但记得选下深度不然没效果

### 曲线修改器:
拿出之前的棕榈树叶,新建一个路径曲线,随缘弯折,然后在棕榈树叶上加上曲线修改器(形变),用吸管选中曲线,在修改器下面选方向就可以让树叶吸附到曲线上

在编辑的时候可以启用法线,选中曲线在编辑模式下有个正方形其中一个顶点突出显示,在里面可以勾选显示法线方向

不过移动的时候和之前的树一样,需要曲线和树叶一起移动,所以方便的办法是把曲线设置成树叶的父级,选中曲线然后树叶,ctrl+p选物体

### 父子级关系:
随便新建两个物体,先子后父,然后ctrl+p绑定,一个父级可以有多个子级,但一个子级不能有两个父级,以做后绑定的为准

也可以选中一堆物体,然后最后选中父级物体,这样就是把这一对物体作为左后选中物体的父级

alt+p清除父级

在ctrl+p的菜单里有如下几个:
#### 默认:
不再赘述
#### 保持变量:
直接ctrl+p设置父级会还原自己物体状态,可以选择保持变量让物体状态不回退

#### 无反向
让子级父级原点重合,但是旋转和位移会被清空

#### 保持变换无反向
不清空

#### 顶点:
插入:alt+d是关联性复制,改一个其他的都会改,shift+d复制出的互相独立

比如说我有一个藤蔓,上面有很多叶子,我需要给杆上加一个曲线修改器,到那时由于杆和叶子之间没有父子关系,弯曲杆后叶子不会根治移动

这里可以用父子(顶点)的方式镑所有的叶子作为子级,叶子会位移但不会跟着旋转

### 蒙皮修改器:
在Hierachy里选择父级几所有子级的时候,需要在父级右键选择层级

新建一个平面,在编辑模式下按m在中心合并所有顶点形成一个点,然后可以不断挤出形成一条线

添加蒙皮修改器可以形成一条蛇,通常来说树这类分治比较多的模型会很好用

在这个基础上挤出分叉也会被蒙皮

然后ctrl+a可以调整粗细

这个时候不能直接右键平滑着色,需要在蒙皮修改器里勾选平滑着色

![rightcorner](../../../../../../assets/blender/kurtips-基础/2.6.png)

## 2.7 置换修改器:
新建一个平面,添加细分(多一些)

添加置换修改器,然后添加贴图,在右侧两个开关的地方查看贴图

在下方随便加一个贴图,置换修改器会把平面根据贴图形变

也可以用内置贴图

可以调整贴图类型比如柔和和犀利,形变程度不一样,也可以调整尺寸,参数越大,形变越柔和

修改器参数: 强度, 参数越大形变越大,中间值,大概就是类似偏置这么个东西,可以右键回复默认设置

和表面细分一样,必须要增加细分置换修改器才会有效果

以及建议用黑白贴图

也可以在别的物体上添加置换修改器和对应的贴图,会有同样的效果

比如说: 从正方体添加表面细分到近似球体,然后添加置换修改器随便选个贴图,就会有一种比较像动漫里能量球的样子

再或者我要建一块石头,可以正方体 -> 表面细分 -> 置换 -> 弗洛伊德图 -> 调整参数 -> 间隔矩阵选择: 方形矩阵间隔 -> 强度改小一点,平滑一点. ... 得到一个馒头石头 -> 可以在编辑模式下调整正方体以调整石头形状

## 2.8 小狐狸:
添加参考图,可以一个正面一个侧面分别放在两个轴上,设置图片深度前上图片在白模前面,

为了防止误选,可以在Hierachy里把可选叉掉

### 头部:
正方体 -> ctrl+2快捷加一个细分为2的表面细分修改器 -> 调整 -> 应用修改器 -> 删掉左半边 -> 镜像修改器(需要调整一下接缝处,可以选中中间的那一串点sx0之后调整merge参数)

### 耳朵: 
先把头部上方耳朵附近的点滑动(两次g)到合适的位置(之后要挤出耳朵)

### 鼻子:
正方体,表面细分,微调

### 眼睛:
正方体,表面细分,微调,镜像 

### 尾巴

用曲线去拉,设置曲线深度,alt+s调整粗细,然后各种凹造型

最后整体平滑着色加应用缩放

# 材质篇

## 3.1 材质篇基础

开篇建议: 不要死记,用手试一下

关于UI差异见: [KurTips | Blender4.0和3.6材质节点的区别 - 入门必看 - 哔哩哔哩](https://www.bilibili.com/opus/876382793973628960)

PBR (Physically Based Rendering)

BRDF (Bidirectional reflectance distribution function)

blender文件的默认立方体自带一个材质,其他的需要在材质界面添加,删除材质的话在上面减号删除

边上有下拉菜单,可以看到所有已经创建的材质,如果名字前面有个0,说明改材质没有被赋予任何物体,关掉blender之后这个材质会消失,但是边上有一个盾牌图标可以防止材质消失

在建模主页面之外打开一个着色器编辑器

选中对应物体会显示这个材质的着色器节点,看着很像comfyui

正常来说如果打光比较暗的话会看不行模型,可以在右上角去掉场景世界去看到白模(相当于打了一个假光,渲染的时候这个光不存在)

每一个材质一定要有一个材质输出,不然材质看不到

### 原理化bsdf

大概可以分成以下几部分,4.0的UI变了,可能不完全一样

![rightcorner](../../../../../../assets/blender/kurtips-基础/3.1-bsdf.png)


#### GGX:
这个界面的第一个,4.0UI在Spectacle下第一个,是一种光照模型

GGX/多重散射GGX: 肉眼基本看不出来区别,用GGX就行

#### 随机游走:
这个界面的第一个,4.0UI在subsurface下,只针对cycles渲染器,多数时候不用管

#### 基础色:
跳过,改颜色

#### 金属度:
一般情况下不是0就是1,其他的通过别的参数控制,比如糙度

#### 糙度:
控制物体粗糙程度,参数值越大,物体越粗糙,反之亦然,金属度1加上较低的糙度会有种金属的感觉,糙度高点就像是那种哑光面

比如说黄色,金属度1,糙度较低 -> 黄金猴头

### 高光:
比较微弱的调整,控制倒影, 4.0里叫IOR level

#### 高光染色:
给高光材质的颜色, 4.0里叫tint

#### 光泽:
主要是边缘的光效果

#### 光泽染色:
同理

#### 清漆
会在模型上附着一层油漆状的材质,4.0里叫涂层

#### 透射:
4.0里只能通过IOR调整透射,用于设置不同的物理材质

#### 次表面:
用来做一些软糖,皮肤一类的材质

#### 各向异性:
调整光泽

### 一个模型多个材质:
当一个模型有多个材质的时候,会默认显示第一个材质

可以在编辑模式下选中一些面然后在材质菜单中指定材质

似乎可以做一些特定的花纹,但感觉某些时候直接建一个平面会更方便

![rightcorner](../../../../../../assets/blender/kurtips-基础/3.1.png)

## 3.2 加纹理

一般都需要这几个节点

![rightcorner](../../../../../../assets/blender/kurtips-基础/3.2-workflow.png)

如果不加纹理坐标和映射,默认是以UV的形式映射,就是把立方体展开,把图片扔上去,然后折回正方体

- 生成用的是全局的坐标系
- 物体用的是物体的局部坐标系,纹理会跟着物体原点移动,也可以在物体吸管那里额外设置一个参考物体
- UV刚介绍过了
- 摄像机视角: 跟随摄像机
- 窗口: 跟随窗口

节点组:
- 纹理坐标:  右键添加 -> 材质 -> 材质坐标
- 映射:  右键添加 -> 向量 -> 映射
- 图片纹理:  右键添加 -> 纹理 -> 图片纹理
- BSDF
- 输出

映射:
- 点模式: 调整offset会往反方向移动
- 纹理模式: 调整offset正常移动
- 矢量,模式: 没有offset
### 渐变纹理:
在纹理编辑器里右键converter有一个颜色渐变

剩下一样

![rightcorner](../../../../../../assets/blender/kurtips-基础/3.2-ramp.png)

点击颜色的加号添加一个颜色节点,然后在下面更改颜色

可以在颜色渐变的最后一个参数变成一个纹理,例如连接到噪波纹理等

## 3.3 用蒙版做纹理的叠加

拿出蘑菇,给伞添加一个图片纹理,和之前一样

安装node wrangler插件他会ctrl+t自动填充一下没加的节点

在上面的基础上增加一个节点: 右键添加 -> 转换器 -> 混合(Mix)

然后把模式换成颜色

会出现A和B两个可以混合的颜色,系数越大越接近B的颜色,反之亦然,这个颜色可以是贴图

也可以把一整纹理图输入到系数里,然后就会把下面的两种颜色按照纹理图混合

## 3.4 凹凸感和置换形变

需要三部分:
- 一个基础纹理,一般是黑白图片
- 一个凹凸节点,把黑白的灰度转换成一个凹凸强度
- 一个纹理坐标映射(之前那个节点)
![rightcorner](../../../../../../assets/blender/kurtips-基础/3.4_凹凸纹理.png)

node wrangler快捷键: ctrl+shift+左键单击可以快速把一个节点放到输出上预览

这个时候(以噪波纹理为例)
- 调整颜色渐变: 白色表示没有起伏,黑色越多就越有坑坑洼洼的感觉
- 调整缩放: 缩放越大,那些坑的大小越小,整体越粗糙
- 调整细节: 在不改变整体凹凸形状的同时,系数越大整体月粗糙

注意要把凹凸节点链接到BSDF的法向输入

比如说有一个平面,加上细分,通过改变法向可以调整反射出来的光(细分后选中面r+n)

poly heaven和ambient CG可以下载各种材质

法向贴图都是蓝紫色的

一般来说有几种材质:
- 图片: 正常图片,直接加到上面就行
- 糙度纹理: 用与调整材质糙度,反光等
- 凹凸纹理: 用于调整凹凸感

### 置换:
#### 方法1: 置换修改器
见上方2.7,用cycles或者eevee都生效

#### 方法2: 置换节点
要先在切成4半的圆那个图标里找到设置,调整置换: 置换与凹凸(这个不是通用设置,每个物体都要改)

然后把一个纹理通过(矢量->置换)连接到输出的置换上

记得要给物体加细分

资源消耗较大,谨慎使用

感觉还是置换修改器吧,这个据说只对cycles有用

由于要有多个纹理,并且都要连到BSDF以及对应的矢量输入,所以node wrangler快捷键,选中BSDF然后ctrl shift t选需要的图片,会自动连(注意识别不同图片的方式是最后一个单词,如果识别不出来则不会显示)


![rightcorner](../../../../../../assets/blender/kurtips-基础/3.4_置换凹凸纹理.png)

## 3.5 多材质混合:
可以分别用两个BSDF着色器去做两个不同的材质,在着色器shader里

然后加一个混合着色器然后把两个BSDF连进去在连到最后的输出,还是系数表示上面那个的系数,然后可以加载一个黑白纹理去把两个材质根据纹理贴图混合

分组是选中节点,ctrl+j和comfyui差不多,f2改组名

### node wrangler的常用操作:

- ctrl+t自动补全: 加上纹理坐标和映射
- 选中BSDF ctrl+shift+t: 自动连接PBR材质
- ctrl+shift单击一个节点快速预览该节点的渲染效果(直接连到输出)
- 选中混合节点alt+s快速修改上下顺序

## 3.6: 简易UV
UV就是先把三维模型拆开然后加纹理折回去

如果是多个纯色组合的可以不用UV,但是多数情况下需要用UV映射到上面去

可以去UV编辑器里查看一个模型的展开图

然后点击模型进入编辑模式可以在UV里看到展开图,在左上角选择纹理绘制进入话纹理环节

按n可以调出工具栏,在Tool一览里有一堆工具

在右侧小扳手图标里可有这个工具栏,然后还是和PS一样可以选择两个颜色,按x切换

在次上方做右侧有个对称,勾选上就可以同时对称的画纹理了

可以按f去缩放画笔大小

在上方笔画里可以选笔画类型(点,)

左边的那个水滴是一个柔化工具,可以把笔画的边缘变得模糊

下面那个是涂抹工具,克隆游标附近的图案1

最后是油漆桶工具,直接填充

油漆桶可以做渐变,选中油漆桶之后再右侧工具栏中选梯度,然后选择对应的颜色

在做UV之前必须确保物体有UV,可以在UV编辑器中查看,或者左下角查看UV贴图

之前做的小狐狸是镜像得到的,应用修改器(或者转换成网格),但是这个UV是有问题的,需要拆

先a全选,然后u,智能拆UV,也可以选中一圈线然后按u标记缝合边

### 狐狸上色:
#### 狐狸头:
先上一个基础材质,然后用油漆桶加一个耳朵周围渐变成较深的颜色

在色板里按退格可以自动选中白色

可以直接画,或者按照之前材质指定的方式把一小片变成白色

再或者也可以选中要上色的部分tab进入纹理绘制模式,然后在纹理绘制边上有一个遮罩,就只会在选中部分画

#### 鼻子眼睛:
对应上个纯色材质在微调一下就行

#### 尾巴:
先把尾巴掰直方便上色

变成网格,然后全选在uv编辑器里稍微变小,防止出现接缝

小键盘斜杠可以只显示当前物体,拉一个渐变

#### 身体:
转成网格,拆UV然后渐变上色即可

# 粒子篇:
blender的粒子系统分成两大类: 发射器粒子和毛发粒子

选中要加粒子的物体,然后在左边有个四个点三条线的图标是粒子系统,点击加号添加粒子
## 发射器粒子

参数大致和unity的粒子系统差不多

### 通用属性
粒子数目,随机书种子,粒子开始运动的起始帧,粒子的结束点(结束的帧),粒子的生命周期以及随机性

### 渲染
在粒子的渲染中可以指定渲染类型,指定为物体可以将例子变成指定的物体

也可以指定为集合,这样就可以下各种各样的物体了

也可以把一种粒子效果箱材质一样加个名字,这样就可以快速把粒子效果加到两一个物体上

可以调整发射源,比从面刀顶点,体积的话就是可以从内部生成例子

调整缩放随机性可以让粒子带有不同大小

要勾选渲染发射体才会渲染发射例子的物体,例:云朵

### 速度

在速度里调整法向可以调整例子发射的初速度,物体对齐xyz可以调整初速度

### 力场权重:

调整粒子受到的一些力,比如重力等等

### 旋转:
让所有例子在生成的时候转一个角度

### 物理:
在物理里可以调整粒子的物理属性,比如调整布朗系数就可以让粒子做布朗运动

### 粒子碰撞:

像unity一样,给物体加个rigidbody

选中要发生碰撞的物体,然后在空心圆加实心圆那个图标里加碰撞

### 力场:
粒子受力场作用,可以被吹飞,shift+a新建力场,在物理属性里增加力度,大于0是推力,否则是吸力

## 毛发粒子:
添加方式和发射器粒子一样,调整毛发大小以及密度等

毛发的材质和添加的纹理一致

可以在子集里更改毛发类型

在簇集里让毛发汇聚成簇

自发光的数量表示毛发的色团,在下面的子集数量里表示每个色团有多少根草,但注意要分别设置显示数量和渲染数量

### 用毛发粒子做大场景

可以按照发射器粒子的方式把毛发粒子变成物体

但是方向有可能不对,需要先在渲染中勾选物体旋转,然后旋转指定的物体

局部检查,正z正x: 现在局部坐标下查看物体是否正,确保z轴正方向和物体方向一致,然后旋转到物体z轴和全局x正半轴对齐,这样树就立起来了

为了增加一点随机性,先把高级勾上(一般都要勾)

然后更改旋转里的随机化阶段和相位,高级勾上之后会多出来一个物理,可以调整整体的样子,缩放随机性同理

默认的方向是沿着物体的法向,可以在旋转里设置沿全局xyz方向延伸遮掩所有的树不会歪着长

同样可以应用到花朵,草堆

### 随机上色

在着色器编辑器里添加两个节点,物体信息和颜色渐变

把物体信息的随机连接颜色渐变的系数,然后把颜色渐变的模式调成常值,通过控制颜色渐变的区域控制个颜色百分比

## 案例:火苗:
两个蛋: 立方体 -> 表面细分 -> 应用修改器 -> 衰减拉动最上面的点变成鸡蛋 -> 复制缩小,调整位置到底部突出一些略微旋转 -> 置换修改器加云旭

### 顶点组:
如果我希望一部分顶点受更改,其余不变,就可以用顶点组

选中需要的点,点击顶点是空心圆绿色三角加号新建群组,可以改名

可以在权重模式去看物体的权重

在左上角的权重里可以选择光滑,然后增大迭代让权重过渡更平滑

从蓝色到红色,置换效果越来越明显,可以在置换里指定顶点组

然后在置换修改器里把坐标轴改成物体,新建一个空物体轴把坐标轴改成这个空物体,移动空物体就可以使置换修改器的效果变换,移动坐标轴相当于移动顶点组

我们希望这个空物体坐标轴不断移动,可以在n的面板里把其中一个坐标改成#frame,这样这个坐标和帧数保持一致,用/10等降低速度

然后建一个木头(很简单)

上材质:加一个颜色渐变,由于想让他自发光,一个比较快的办法是用自发光着色器而不是原理化bsdf

然后选中小的蛋(任意一个线按l会把所有连接的线选中)

上两个不同的材质

之后是粒子,新建一个圆环,编辑模式按f填充成圆盘,然后塞到火焰里面,之后建一个棱形球,上一个自发光4.4的blender需要再合成器里勾选使用节点,然后在两个节点直接添加一个炫光glare节点才能看到发光

# 灯光篇:

灯光可以分为世界光和场景光

## 世界光
就算把所有灯光都删掉物体也不是完全黑的,因为有世界光,但是在左边地球图标那里,把强度变成0的话,就全黑了

同样可以改变颜色,该任何颜色都会影响到所有物体

其实blender的世界也是有一个着色器的,在着色器编辑器中从物体调整到世界就能看到

在这里的自发光参数和之前的强度颜色一样,同样可以再加入其他纹理,比如增加一个天空纹理,(日轮在eevee中不可用指的是在eevee渲染中看不到太阳)

然后可以在天空材质中调整类型,默认的是nishita,可以调成hosek就会有一种阴天的感觉

Preetham可以用来渲染晴天

一个快捷调整环境的纹理是环境纹理,需要一张HDRI贴图,是一张全景贴图,会自带光照

但如果只想要光照不要贴图的话,可以在左边照相机图标胶片菜单里勾选透明

## 场景光:
可以分成点光,日光,聚光,面光

新建灯光之后可以在灯光菜单中调整

- 点光: 可以调整颜色和瓦数,漫射,高光只在eevee下能用,半径越大影子越虚,在cycles下多了一个最大反弹次数,由于调整渲染精度
- 日光: 位置不太影响光照效果,但是可以调整照射角度,
- 聚光: 就是一个聚光灯
- 面光:比较好理解

### 打光:
#### 先打世界光:
要先思考一下这个场景要放置在哪里,打对应的世界光,定基调

#### 再打场景灯

三点打光法:
- 主光: 照亮主要的物体,决定阴影的大致走向,其他光不能太喧宾夺主
- 辅助光: 把比较暗的地方照亮
- 轮廓光: 一般从物体背面打光,勾勒出物体轮廓,如果不希望轮廓光透射阴影,可以去灯光设置里把投射阴影勾选掉
![rightcorner](../../../../../../assets/blender/kurtips-基础/5.1_打光.png)

## 正式搭场景:

导入模型: 直接去
- 关联: 无法修改模型或者材质,保持和源文件中的模型一致(造型,材质等),需要在源文件保存,新文件保存重新加载
- 追加: 添加为一个独立的模型,可以自由修改
![rightcorner](../../../../../../assets/blender/kurtips-基础/5.2_导入模型.png)

或者直接暴力cv

如果丢失纹理可以去着色器里重新配置一下,一般是路径问题导致文件丢失

当然,也可以去网上找各种素材,cgtrader

在文件菜单里可以导入fbx,obj文件

## 搭场景:
跳过

## 打光:
在这个案例场景中,最主要的物体是狐狸和火,所以不如让火光作为点光源

但是尽管火的材质有自发光,在eevee渲染器下没有光线追踪所以无法把周围的物体照亮

cycles太耗资源,折中一下再获得位置加一个点光源

但是如果点光源在火里面,光会被挡住,需要设置半径到大于火的范围

为了做出一种树影斑驳的感觉,可以在聚光上加一个圆盘,然后给圆盘上材质

材质的话可以加一个噪波纹理然后颜色黑白渐变,之后混合纹理把白色部分变得透明

eevee由于没有光线追踪,所以需要把对应物体的材质属性设置里的混合模式和阴影模式调整成 alpha hashed(这个是老版本的,4.4设置displacement and bump)

在eevee渲染器里可以在设置勾选环境光遮蔽和屏幕光线反射勾上,光线效果会好一些(4.4好像没了,可以勾光线追踪)

# 动画篇:
## 时间轴动画基础:
blender主界面下方有一个时间轴,单位是帧,在打印机图标里可以更改帧设置,默认是24帧

可以通过真范围调整动画想要做多长比如10秒就是240帧

插入关键帧: 可以在时间轴的位置邮件插入关键帧,(似乎和unity一样了)

在特定帧中的物体上按k也可以k帧

可以选中一些关键帧,按s根据当前的蓝线位置缩放

同样shift+d可以复制一个

 也可以向unity那样点那个原点开录制,每次拖动到一个位置会自动k帧

可以把窗口切到曲线编辑器的界面,可以看到很多曲线,可以更改曲线形状去改变变化速率

推荐帧率用偶数,因为经常会出现要加速个几倍的情况,选择一些好整除的数字可以方便一些,例如25帧对半砍在blender里会自动取整到13

## 形态键

选中物体在那个绿色三角,顶点是空心圆的图标找到形态键加号添加

相当于给立方体加一个状态

在除了基础状态的每一个状态键下面可以调整对应的值,做一个过渡

动画修改器: 在随便一个物体上切换到曲线修改器,然后选中一个特定的key,可以在左边看到修改器选项,这里就有很多提供的修改器

比如说我们建好了一个蝴蝶,两个状态键分别选在翅膀最高和最低的两个状态,那么可以通过在状态键1里的值k帧,进入曲线修改器加一个内置函数(默认是正弦),就可以实现蝴蝶一直扇翅膀了

然后类似于物体的修改器,可以在这个基础上再加一个修改器

## 骨骼:
可以shift+a新建一个骨骼,默认是在物体模式,底部和游标对齐

分成物体模式,编辑模式和姿态模式,可以选中骨骼然后在左上角点一下,也可以按住骨骼按tab出现饼盘选择(需要现在偏好设置里勾选pie menu on drag)

可以选中顶点按e挤出新的一个骨骼,也可以右键细分骨骼

在物体模式下只能给整个骨架加关键帧,但是在姿态模式下可以给单根骨头加关键帧

骨骼绑定只能在物体模式下进行,编辑模式和姿态模式都不行,绑定是把骨架作为父级

可以在骨架的设置里把视图显示在前面勾选上

绑定骨骼的时候需要勾选附带自动权重

建议先清除父级,做好骨骼之后再放回去

为了做一个尾巴的感觉可以
- 先把物体中心设置到根部,然后ctrl+shift+alt+s放大但保持y方向不变,然后拉出一个尝尝的骨骼保住尾巴,在e拉出一小段,ctrl+shift+alt+s缩小,然后在设置里调整柔性骨骼段数
- 这个时候骨头在姿态下,找骨头f2改名
- 这个时候尾部的骨骼不能移动,所以需要独立出来, alt+p清除父级
- 在姿态模式下先选中尾巴末端的骨骼再选分段的骨骼,然后ctrl+shift+c设置约束拉伸到
- 为了让旋转更流畅,需要选中分段的骨骼然后在骨骼设置里起始控制柄绝对,自定义选择根部的骨骼,然后结束控制柄绝对,下面的自定义选择尾部骨骼
因为有一部分的骨骼不希望参与形变,但是绑骨的时候会自动加权重,所以先把最尾部的骨骼在骨骼设置里把形变勾选掉,因为最尾部的骨骼是控制器,不希望参与权重

最后先选尾巴再选骨骼ctrl+p绑定即可

## 物体约束：
假设我峨嵋你有个猴头和一个空物体，在后头上加一个约束track to空物体，就会看向空物体，但是方向不对所以默认情况下是下巴看向空物体，

打开猴头的局部坐标，发现要跟随的空物体在猴头的大概-y方向，所以跟随轴选择-y，选择向上（猴头的局部z轴方向）调整猴头方向

之后无论空物体在哪里猴头都会看向空物体

如果给材质节点上动画需要在材质页面选中节点才能看到关键帧

# 合成篇：
相当于后期特效

点击使用节点会出来一个渲染层和一个合成，加一个预览器viewer连到渲染层的图像输入上，界面背景会出现一个预览的图片，按v缩小alt+v放大

为了方便预览可以在连接线上shift右键划一刀画出一个节点，然后连到预览器上(因为和合成节点共享输入)

可以在最后输出之前加各种节点,比如rgb曲线,亮度,饱和度等

按m可以暂时预览没有这个节点的效果

### 降噪:
eevee自动降噪所以效果不明显

不过因为采样大于某个阈值之后,差别可以几乎忽略不计,为了渲染速度勾选降噪,适当调低采样

也可以认为加降噪节点,在合成器中,要等一小会但是会清晰很多

## 渲染输出
### 检查输出属性

#### eevee
- 分辨率
- 帧率和范围
- 路径
- 输出格式:建议选png和jpg,不建议选视频,万一中间崩溃视频就全没了
- 颜色: 如果有透明的选rgba,但一般就直接rbga即可
- 色深: 一般8即可
- 压缩: 推荐参数15%
- 采样: 看电脑配置
-  环境光遮蔽: 必勾,会添加很多阴影效果
- 景深和次表面不需要改
- 阴影: 推荐512分辨率,柔和阴影
- 运动模糊看情况
#### cycles:
- 在偏好设置里找到系统,如果有N卡就OptiX只勾gpu
- cycles设备选gpu
- 调整采样,根据时间和电脑来 
- 这个时候在灯光设置里有个接触阴影,用来设置接触时候的微观阴影,目前感觉不太需要
- 建议先把分辨率调成30%,确认没有问题之后再输出一个100%

#### blender图片帧合成视频:
新打开一个blender文件,在上方加号里点击视频编辑,点击中间的添加然后选择序列,按时间顺序排,添加图像片段

这个时候就要选择ffmpeg视频了,编码要改成mpeg-4,编码h.264,质量高,然后选择保存地址

但是视频合成和在那个文件里的建模预览会冲突,渲染的时候需要删掉视频才能整渲染其他模型