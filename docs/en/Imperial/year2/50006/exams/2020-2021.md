---
level: Imperial
---
---
level: Imperial
---
---
level: Imperial
---
---
level: Imperial
---
---
encrypt_content:
  level: Imperial
  password: Raymond#1234
  username: hg1523
level: Imperial
---
# 1
This whole part is not examinable for 2024, still go through the answers yourself

# 2
## a
## 1
### (i)
only S3
### (ii)
S0, S1, S3, S4

### (iii)
None
## b
## (i)
```haskell
transCond :: Cond -> [Register] -> String ->[Instr]
transCond (LessThan e1 e2) rs@(r1:r2:rest) label =
	transExp e1 rs ++
	transExp e2 (r2:rest) ++
	Cmp r1 r2 ++
	Blt label
```
## (ii)
```haskell
transStat :: Stat -> [Register] -> [Instr]
transStat (DoWhile slist@(s:ss) cond) (r1:rest) 
	=   [Define start]
		concatMap slist (\s -> transStat s (r1:rest)) ++
		transCond cond (r1:rest) start ++
		[Define end]
		
	
```

## (iii)
we need to pass a label to continue, so we alter the signature of transStat
```haskell
transStat :: Stat -> [Register] -> String -> [Instr]
transStat (DoWhile slist@(s:ss) cond) (r1:rest) label
	=   [Define label]
		concatMap slist (\s -> transStat s (r1:rest)) ++
		transCond cond (r1:rest) label
	
```
```haskell
transStat Continue _ label =
	[Bra label]
```
